'use strict';

var _mongoose = require('mongoose');

var _mongoose2 = _interopRequireDefault(_mongoose);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var logger = global.logger || console.log;
logger.info('mongodb ConnectionString is:=====> ' + _config2.default.mongodb);

_mongoose2.default.connect(_config2.default.mongodb, {
  useMongoClient: true,
  autoReconnect: true,
  poolSize: 10,
  keepAlive: 1,
  connectTimeoutMS: 30000,
  reconnectTries: Number.MAX_VALUE,
  reconnectInterval: 2000
}, function (err) {
  if (err) logger.error('mongodb error ' + err);
});

_mongoose2.default.Promise = require('bluebird');

exports.mongoose = _mongoose2.default;
//# sourceMappingURL=mongodb.js.map