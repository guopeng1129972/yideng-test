{"version":3,"sources":["../src/send-notice.js"],"names":["appNames","userIds","messageTagId","priority","content","request","post","Domain","dest","appName","userId","Authorization","sendNormalNotice","notice"],"mappings":";;;;;;;;;;;;;;AAKA;AACA;;sFACA;AAAA,QAAkCA,QAAlC,SAAkCA,QAAlC;AAAA,QAA4CC,OAA5C,SAA4CA,OAA5C;AAAA,mCAAqDC,YAArD;AAAA,QAAqDA,YAArD,sCAAoE,CAApE;AAAA,+BAAuEC,QAAvE;AAAA,QAAuEA,QAAvE,kCAAkF,EAAlF;AAAA,QAAsFC,OAAtF,SAAsFA,OAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACQC,kBAAQC,IAAR,CAAgBC,MAAhB,2BAA8C;AAClDC,oBAAM;AACJC,yBAAST,QADL;AAEJU,wBAAQT;AAFJ,eAD4C;AAKlDE,gCALkD;AAMlDD,wCANkD;AAOlDE;AAPkD,aAA9C,EAQH;AACDO,0CADC;AAED,gCAAkB,oBAFjB;AAGD,8BAAgB;AAHf,aARG,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,gB;;;;;AAPf;;;;AACA;;;;IAEQD,a,GAA0BE,c,CAA1BF,a;IAAeJ,M,GAAWM,c,CAAXN,M;kBAoBRK,gB","file":"send-notice.js","sourcesContent":["import request from './request'\nimport { notice } from './config'\n\nconst { Authorization, Domain } = notice\n\n// http://wiki.xingshulin.com/pages/viewpage.action?pageId=51713361#tag/%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5\n// messageTagId分别为1：病历审核，2：随访申请，3：项目通知，4：钱包助手，5：只能助手，6：系统通知，7：好友申请，8：公告通知\nasync function sendNormalNotice({ appNames, userIds, messageTagId = 3, priority = 10, content }) {\n  await request.post(`${Domain}/message/v2/delivery`, {\n    dest: {\n      appName: appNames,\n      userId: userIds,\n    },\n    priority,\n    messageTagId,\n    content,\n  }, {\n    Authorization,\n    'X-Request-From': 'service:management',\n    'Content-Type': 'application/json',\n  })\n}\n\nexport default sendNormalNotice\n"]}