{"version":3,"sources":["../src/mongodb.js"],"names":["logger","global","console","log","info","config","mongodb","mongoose","connect","useMongoClient","autoReconnect","poolSize","keepAlive","connectTimeoutMS","reconnectTries","Number","MAX_VALUE","reconnectInterval","err","error","Promise","require","exports"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,IAAMA,SAASC,OAAOD,MAAP,IAAiBE,QAAQC,GAAxC;AACAH,OAAOI,IAAP,yCAAkDC,iBAAOC,OAAzD;;AAEAC,mBAASC,OAAT,CACEH,iBAAOC,OADT,EAEE;AACEG,kBAAgB,IADlB;AAEEC,iBAAe,IAFjB;AAGEC,YAAU,EAHZ;AAIEC,aAAW,CAJb;AAKEC,oBAAkB,KALpB;AAMEC,kBAAgBC,OAAOC,SANzB;AAOEC,qBAAmB;AAPrB,CAFF,EAWE,eAAO;AACL,MAAIC,GAAJ,EAASlB,OAAOmB,KAAP,oBAA8BD,GAA9B;AACV,CAbH;;AAgBAX,mBAASa,OAAT,GAAmBC,QAAQ,UAAR,CAAnB;;AAEAC,QAAQf,QAAR,GAAmBA,kBAAnB","file":"mongodb.js","sourcesContent":["import mongoose from 'mongoose'\nimport config from './config'\n\nconst logger = global.logger || console.log\nlogger.info(`mongodb ConnectionString is:=====> ${config.mongodb}`)\n\nmongoose.connect(\n  config.mongodb,\n  {\n    useMongoClient: true,\n    autoReconnect: true,\n    poolSize: 10,\n    keepAlive: 1,\n    connectTimeoutMS: 30000,\n    reconnectTries: Number.MAX_VALUE,\n    reconnectInterval: 2000,\n  },\n  err => {\n    if (err) logger.error(`mongodb error ${err}`)\n  }\n)\n\nmongoose.Promise = require('bluebird')\n\nexports.mongoose = mongoose\n"]}