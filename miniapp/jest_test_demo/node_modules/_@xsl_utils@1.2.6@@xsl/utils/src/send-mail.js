import nodemailer from 'nodemailer'

/**
 *
 * @param email: 发送者的email
 * @param passport: 发送者的pwd
 *
 * @options: {
 *   to: email,
 *   html: mailText,
 *   subject: mailTitle,
 * }
 */
export default (email, passport) => (options) => {
  const transporter = nodemailer.createTransport(`smtps://${email}:${passport}@smtp.263.net`)
  transporter.sendMail({
    ...options,
    from: email,
  })
}
